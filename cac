make
secure boot
sudo /usr/src/linux-headers-$(uname -r)/scripts/sign-file sha256 \
    ~/kernel_keys/MOK.key \
    ~/kernel_keys/MOK.crt \
    unified_vma_inspector.ko
    
    
    load the module
   sudo insmod unified_vma_inspector.ko target_pid=1


watch kernel log live
dmesg -w

remove themodule
sudo rmmod unified_vma_inspector
confirm
dmesg | tail

make clean



versions 1.1
make VERSION=1.1
or
make VERSION=1.1 SRC=unified_vma_inspector.c

mv unified_vma_inspector.ko unified_vma_inspector_1.1.ko

mv unified_vma_inspector_1_1.ko unified_vma_inspector_1_2.ko
sudo /usr/src/linux-headers-$(uname -r)/scripts/sign-file sha256 \
    ~/kernel_keys/MOK.key \
    ~/kernel_keys/MOK.crt \
    unified_vma_inspector_1.1.ko
    
    or 
    
sudo /usr/src/linux-headers-$(uname -r)/scripts/sign-file sha256 \
    ~/kernel_keys/MOK.key \
    ~/kernel_keys/MOK.crt \
    unified_vma_inspector_1_1.ko
    
    
    sudo insmod unified_vma_inspector_1.1.ko target_pid=1
    or
    sudo insmod unified_vma_inspector_1_1.ko target_pid=1
    confirm it loaded 
    lsmod | grep unified_vma_inspector

    watch kernel log live
dmesg -w
    sudo rmmod unified_vma_inspector_1.1
    or 
    sudo rmmod unified_vma_inspector
    
    
    
    
    
    version1.2
    
    mv unified_vma_inspector_1_1.ko unified_vma_inspector_1_2.ko
    
    sudo /usr/src/linux-headers-$(uname -r)/scripts/sign-file sha256 \
    ~/kernel_keys/MOK.key \
    ~/kernel_keys/MOK.crt \
    unified_vma_inspector_1_2.ko
    
     sudo insmod unified_vma_inspector_1_2.ko target_pid=1
confirm it loaded 
    lsmod | grep unified_vma_inspector

    watch kernel log live
dmesg -w

sudo rmmod unified_vma_inspector











make                  # builds both versions
make all              # same

# Or build only one version if you prefer:
make unified_vma_inspector_1_1.ko
make unified_vma_inspector_1_2.ko
